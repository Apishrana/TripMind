<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Planner AI - Your Autonomous Travel Assistant</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚úàÔ∏è</text></svg>">
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/booking-styles.css">
    <link rel="stylesheet" href="/static/calendar-styles.css">
    <link rel="stylesheet" href="/static/calendar-dynamic.css">
    <link rel="stylesheet" href="/static/plan-trip-styles.css">
    <link rel="stylesheet" href="/static/auth-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js"></script>
</head>
<body>
    
    <!-- Welcome/Landing Page -->
    <div id="welcome-page" class="page active">
        <div class="welcome-container">
            <!-- Animated Background -->
            <div class="welcome-bg">
                <div class="gradient-orb orb-1"></div>
                <div class="gradient-orb orb-2"></div>
                <div class="gradient-orb orb-3"></div>
            </div>
            
            <!-- Welcome Content -->
            <div class="welcome-content">
                <div class="welcome-logo">
                    <svg class="logo-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 10 L90 30 L90 70 L50 90 L10 70 L10 30 Z" fill="url(#logoGradient)" stroke="white" stroke-width="2"/>
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <text x="50" y="60" font-size="40" fill="white" text-anchor="middle">‚úàÔ∏è</text>
                    </svg>
                    <h1 class="welcome-title">Travel Planner AI</h1>
                </div>
                
                <p class="welcome-tagline">Your Intelligent Travel Companion</p>
                
                <div class="welcome-features-mini">
                    <div class="mini-feature">
                        <span class="mini-icon">ü§ñ</span>
                        <span>AI-Powered Planning</span>
                    </div>
                    <div class="mini-feature">
                        <span class="mini-icon">‚úàÔ∏è</span>
                        <span>Smart Booking</span>
                    </div>
                    <div class="mini-feature">
                        <span class="mini-icon">üí∞</span>
                        <span>Budget Optimization</span>
                    </div>
                </div>
                
                <div class="welcome-actions">
                    <button class="btn-welcome btn-signin" onclick="navigateTo('signin')">
                        <span>Sign In</span>
                        <svg class="btn-arrow" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 0L8.59 1.41L15.17 8H0v2h15.17l-6.58 6.59L10 18l10-9-10-9z"/>
                        </svg>
                    </button>
                    <button class="btn-welcome btn-signup" onclick="navigateTo('signup')">
                        <span>Create Account</span>
                        <svg class="btn-arrow" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 0L8.59 1.41L15.17 8H0v2h15.17l-6.58 6.59L10 18l10-9-10-9z"/>
                        </svg>
                    </button>
                </div>
                
                <div class="welcome-info">
                    <div class="info-item">
                        <strong>10,000+</strong> Trips Planned
                    </div>
                    <div class="info-divider"></div>
                    <div class="info-item">
                        <strong>4.9‚òÖ</strong> Average Rating
                    </div>
                    <div class="info-divider"></div>
                    <div class="info-item">
                        <strong>50+</strong> Countries
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Sign In Page -->
    <div id="signin-page" class="page">
        <div class="auth-container">
            <div class="auth-left">
                <div class="auth-visual">
                    <div class="visual-icon">‚úàÔ∏è</div>
                    <h2 class="visual-title">Welcome Back!</h2>
                    <p class="visual-subtitle">Continue your journey to discover amazing destinations</p>
                    <div class="visual-features">
                        <div class="visual-feature">‚úì AI-Powered Itineraries</div>
                        <div class="visual-feature">‚úì Personalized Recommendations</div>
                        <div class="visual-feature">‚úì Secure Booking System</div>
                        <div class="visual-feature">‚úì 24/7 Travel Support</div>
                    </div>
                </div>
            </div>
            
            <div class="auth-right">
                <div class="auth-form-container">
                    <button class="btn-back" onclick="navigateTo('welcome')">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 20L11.41 18.59L4.83 12H20v-2H4.83l6.58-6.59L10 2 0 11l10 9z"/>
                        </svg>
                        Back
                    </button>
                    
                    <h2 class="auth-title">Sign In</h2>
                    <p class="auth-subtitle">Enter your credentials to access your account</p>
                    
                    <form class="auth-form" onsubmit="handleSignIn(event)">
                        <div class="form-group-auth">
                            <label for="signin-email">Email Address</label>
                            <input type="email" id="signin-email" class="auth-input" placeholder="you@example.com" required>
                        </div>
                        
                        <div class="form-group-auth">
                            <label for="signin-password">Password</label>
                            <input type="password" id="signin-password" class="auth-input" placeholder="Enter your password" required>
                        </div>
                        
                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="remember-me">
                                <span>Remember me</span>
                            </label>
                            <a href="#" class="link-forgot">Forgot password?</a>
                        </div>
                        
                        <button type="submit" class="btn-submit">
                            <span>Sign In</span>
                            <div class="btn-spinner" style="display: none;"></div>
                        </button>
                    </form>
                    
                    <div class="auth-divider">
                        <span>or continue with</span>
                    </div>
                    
                    <div class="social-buttons">
                        <button class="btn-social" onclick="alert('Google sign-in coming soon!')">
                            <svg width="20" height="20" viewBox="0 0 20 20">
                                <path fill="#4285F4" d="M19.6 10.2c0-.7-.1-1.4-.2-2H10v3.8h5.4c-.2 1.2-1 2.2-2 2.9v2.5h3.2c1.9-1.7 3-4.3 3-7.2z"/>
                                <path fill="#34A853" d="M10 20c2.7 0 4.9-.9 6.6-2.4l-3.2-2.5c-.9.6-2 1-3.4 1-2.6 0-4.8-1.8-5.6-4.1H1.1v2.6C2.8 17.9 6.1 20 10 20z"/>
                                <path fill="#FBBC05" d="M4.4 12c-.2-.6-.3-1.3-.3-2s.1-1.4.3-2V5.4H1.1C.4 6.8 0 8.4 0 10s.4 3.2 1.1 4.6l3.3-2.6z"/>
                                <path fill="#EA4335" d="M10 3.9c1.5 0 2.8.5 3.8 1.5l2.9-2.9C15 .9 12.7 0 10 0 6.1 0 2.8 2.1 1.1 5.4l3.3 2.6C5.2 5.7 7.4 3.9 10 3.9z"/>
                            </svg>
                            Google
                        </button>
                        <button class="btn-social" onclick="alert('GitHub sign-in coming soon!')">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 0C4.5 0 0 4.5 0 10c0 4.4 2.9 8.2 6.8 9.5.5.1.7-.2.7-.5v-1.7c-2.8.6-3.4-1.3-3.4-1.3-.5-1.1-1.1-1.4-1.1-1.4-.9-.6.1-.6.1-.6 1 .1 1.5 1 1.5 1 .9 1.5 2.3 1.1 2.9.8.1-.6.3-1.1.6-1.3-2.2-.3-4.6-1.1-4.6-4.9 0-1.1.4-2 1-2.7-.1-.2-.4-1.2.1-2.5 0 0 .8-.3 2.7 1 .8-.2 1.7-.3 2.5-.3.8 0 1.7.1 2.5.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.5.6.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.6 4.9.4.3.7.9.7 1.9v2.8c0 .3.2.6.7.5 4-1.3 6.8-5.1 6.8-9.5 0-5.5-4.5-10-10-10z"/>
                            </svg>
                            GitHub
                        </button>
                    </div>
                    
                    <p class="auth-switch">
                        Don't have an account? <a href="#" onclick="navigateTo('signup'); return false;">Sign up</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Sign Up Page -->
    <div id="signup-page" class="page">
        <div class="auth-container">
            <div class="auth-left">
                <div class="auth-visual">
                    <div class="visual-icon">üöÄ</div>
                    <h2 class="visual-title">Start Your Journey!</h2>
                    <p class="visual-subtitle">Join thousands of travelers planning their dream vacations</p>
                    <div class="visual-features">
                        <div class="visual-feature">‚úì Completely Free to Start</div>
                        <div class="visual-feature">‚úì AI-Powered Trip Planning</div>
                        <div class="visual-feature">‚úì Instant Itinerary Generation</div>
                        <div class="visual-feature">‚úì Secure Payment Processing</div>
                    </div>
                </div>
            </div>
            
            <div class="auth-right">
                <div class="auth-form-container">
                    <button class="btn-back" onclick="navigateTo('welcome')">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 20L11.41 18.59L4.83 12H20v-2H4.83l6.58-6.59L10 2 0 11l10 9z"/>
                        </svg>
                        Back
                    </button>
                    
                    <h2 class="auth-title">Create Account</h2>
                    <p class="auth-subtitle">Sign up to start planning your perfect trip</p>
                    
                    <form class="auth-form" onsubmit="handleSignUp(event)">
                        <div class="form-group-auth">
                            <label for="signup-name">Full Name</label>
                            <input type="text" id="signup-name" class="auth-input" placeholder="John Doe" required>
                        </div>
                        
                        <div class="form-group-auth">
                            <label for="signup-email">Email Address</label>
                            <input type="email" id="signup-email" class="auth-input" placeholder="you@example.com" required>
                        </div>
                        
                        <div class="form-group-auth">
                            <label for="signup-password">Password</label>
                            <input type="password" id="signup-password" class="auth-input" placeholder="Create a strong password" required minlength="8">
                            <small class="input-hint">At least 8 characters</small>
                        </div>
                        
                        <div class="form-group-auth">
                            <label for="signup-confirm-password">Confirm Password</label>
                            <input type="password" id="signup-confirm-password" class="auth-input" placeholder="Confirm your password" required>
                        </div>
                        
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms-agree" required>
                            <span>I agree to the <a href="#" class="link-inline">Terms of Service</a> and <a href="#" class="link-inline">Privacy Policy</a></span>
                        </label>
                        
                        <button type="submit" class="btn-submit">
                            <span>Create Account</span>
                            <div class="btn-spinner" style="display: none;"></div>
                        </button>
                    </form>
                    
                    <div class="auth-divider">
                        <span>or sign up with</span>
                    </div>
                    
                    <div class="social-buttons">
                        <button class="btn-social" onclick="alert('Google sign-up coming soon!')">
                            <svg width="20" height="20" viewBox="0 0 20 20">
                                <path fill="#4285F4" d="M19.6 10.2c0-.7-.1-1.4-.2-2H10v3.8h5.4c-.2 1.2-1 2.2-2 2.9v2.5h3.2c1.9-1.7 3-4.3 3-7.2z"/>
                                <path fill="#34A853" d="M10 20c2.7 0 4.9-.9 6.6-2.4l-3.2-2.5c-.9.6-2 1-3.4 1-2.6 0-4.8-1.8-5.6-4.1H1.1v2.6C2.8 17.9 6.1 20 10 20z"/>
                                <path fill="#FBBC05" d="M4.4 12c-.2-.6-.3-1.3-.3-2s.1-1.4.3-2V5.4H1.1C.4 6.8 0 8.4 0 10s.4 3.2 1.1 4.6l3.3-2.6z"/>
                                <path fill="#EA4335" d="M10 3.9c1.5 0 2.8.5 3.8 1.5l2.9-2.9C15 .9 12.7 0 10 0 6.1 0 2.8 2.1 1.1 5.4l3.3 2.6C5.2 5.7 7.4 3.9 10 3.9z"/>
                            </svg>
                            Google
                        </button>
                        <button class="btn-social" onclick="alert('GitHub sign-up coming soon!')">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 0C4.5 0 0 4.5 0 10c0 4.4 2.9 8.2 6.8 9.5.5.1.7-.2.7-.5v-1.7c-2.8.6-3.4-1.3-3.4-1.3-.5-1.1-1.1-1.4-1.1-1.4-.9-.6.1-.6.1-.6 1 .1 1.5 1 1.5 1 .9 1.5 2.3 1.1 2.9.8.1-.6.3-1.1.6-1.3-2.2-.3-4.6-1.1-4.6-4.9 0-1.1.4-2 1-2.7-.1-.2-.4-1.2.1-2.5 0 0 .8-.3 2.7 1 .8-.2 1.7-.3 2.5-.3.8 0 1.7.1 2.5.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.5.6.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.6 4.9.4.3.7.9.7 1.9v2.8c0 .3.2.6.7.5 4-1.3 6.8-5.1 6.8-9.5 0-5.5-4.5-10-10-10z"/>
                            </svg>
                            GitHub
                        </button>
                    </div>
                    
                    <p class="auth-switch">
                        Already have an account? <a href="#" onclick="navigateTo('signin'); return false;">Sign in</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Navigation Bar -->
    <nav class="navbar" id="main-navbar" style="display: none;">
        <div class="nav-container">
            <div class="nav-logo" onclick="navigateTo('home')">
                ‚úàÔ∏è Travel Planner AI
            </div>
            <ul class="nav-links">
                <li class="nav-link active" data-page="home" onclick="navigateTo('home')">Home</li>
                <li class="nav-link" data-page="plan" onclick="navigateTo('plan')">Plan Trip</li>
                <li class="nav-link" data-page="calendar" onclick="navigateTo('calendar')">üìÖ Calendar</li>
                <li class="nav-link" data-page="trips" onclick="navigateTo('trips')">My Trips</li>
                <li class="nav-link nav-booking" data-page="booking" onclick="openBookingPageFromChat()" style="background: var(--gradient-1); color: white; border-radius: 25px; padding: 0.5rem 1.5rem; font-weight: 600;">üí≥ Book Now</li>
                <li class="nav-link" data-page="preferences" onclick="navigateTo('preferences')">Preferences</li>
                <li class="nav-link theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">
                    <span id="theme-icon">üåô</span>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home-page" class="page active">
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Plan Your Dream Vacation</h1>
                <p class="hero-subtitle">
                    Powered by AI, designed for you. Let our autonomous travel agent create the perfect itinerary in seconds.
                </p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="navigateTo('plan')">
                        üöÄ Start Planning
                    </button>
                    <button class="btn btn-secondary" onclick="navigateTo('preferences')">
                        ‚öôÔ∏è Set Preferences
                    </button>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2 class="section-title gradient-text">Why Choose Our AI Travel Planner?</h2>
                <div class="features-grid" style="animation: fadeInUp 0.8s ease-out;">
                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <h3 class="feature-title">Autonomous AI Agent</h3>
                        <p class="feature-desc">
                            Our AI independently researches, plans, and optimizes your entire trip using advanced reasoning and decision-making.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üí∞</div>
                        <h3 class="feature-title">Budget Optimization</h3>
                        <p class="feature-desc">
                            Get the best value for your money with smart budget allocation across flights, hotels, and activities.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üß†</div>
                        <h3 class="feature-title">Remembers Your Style</h3>
                        <p class="feature-desc">
                            The AI learns and remembers your preferences to make every future trip planning even better and faster.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">‚úàÔ∏è</div>
                        <h3 class="feature-title">Complete Itineraries</h3>
                        <p class="feature-desc">
                            Get detailed day-by-day plans with flights, hotels, activities, and local recommendations all in one place.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üå§Ô∏è</div>
                        <h3 class="feature-title">Weather-Smart Planning</h3>
                        <p class="feature-desc">
                            AI checks weather forecasts and suggests the best times to visit your destination for optimal experience.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h3 class="feature-title">Personalized Activities</h3>
                        <p class="feature-desc">
                            Discover activities and attractions tailored to your interests, from adventure to culture to relaxation.
                        </p>
                    </div>
                </div>

                <div style="margin-top: 4rem; text-align: center;">
                    <h3 style="font-size: 2rem; margin-bottom: 2rem;">‚ú® Quick Start Examples</h3>
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="setQuickExample('Plan a 5-day beach vacation in Goa under $500 in December')">
                            üèñÔ∏è Beach Getaway
                        </button>
                        <button class="btn btn-primary" onclick="setQuickExample('Plan a 7-day family trip to Paris with museums and food, budget $3000')">
                            üóº Family Adventure
                        </button>
                        <button class="btn btn-primary" onclick="setQuickExample('Weekend trekking trip to Manali for adventure and camping, budget $200')">
                            ‚õ∞Ô∏è Adventure Trek
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Plan Trip Page -->
    <div id="plan-page" class="page">
        <div class="chat-container">
            <div class="chat-box">
                <div class="chat-header">
                    <div>
                        <span>
                            <svg class="icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z" fill="url(#ai-gradient)"/>
                                <defs>
                                    <linearGradient id="ai-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            AI Travel Assistant
                        </span>
                        <div style="font-size: 0.9rem; font-weight: 400; opacity: 0.9; margin-top: 0.3rem;">
                            Autonomous planning powered by advanced AI
                        </div>
                    </div>
                    <button class="btn btn-secondary" style="padding: 0.6rem 1.8rem; border-radius: 12px; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;" onclick="clearChat()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" fill="currentColor"/>
                        </svg>
                        Clear Chat
                    </button>
                </div>
                
                <div class="chat-messages" id="chat-messages">
                    <!-- Messages will be added here -->
                </div>
                
                <div class="chat-input-area">
                    <div class="chat-input-container">
                        <input 
                            type="text" 
                            id="chat-input" 
                            class="chat-input"
                            placeholder="E.g., Plan a 5-day beach trip to Bali under $1000 in March..."
                        />
                        <button id="send-btn" class="btn btn-primary" onclick="sendMessage()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill="currentColor"/>
                            </svg>
                            Send
                        </button>
                    </div>
                    <div style="margin-top: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span class="badge badge-primary" style="cursor: pointer;" onclick="document.getElementById('chat-input').value = 'Plan a romantic getaway for 2 in Santorini, 5 days, budget $2000'">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor"/>
                            </svg>
                            Romantic Getaway
                        </span>
                        <span class="badge badge-primary" style="cursor: pointer;" onclick="document.getElementById('chat-input').value = 'Budget backpacking trip across Thailand for 2 weeks under $800'">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" fill="currentColor"/>
                            </svg>
                            Backpacking Adventure
                        </span>
                        <span class="badge badge-primary" style="cursor: pointer;" onclick="document.getElementById('chat-input').value = 'Luxury wellness retreat in Bali, 7 days, spa and yoga focused'">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 16c0 3.87 3.13 7 7 7s7-3.13 7-7v-4H5v4zM16.12 4.37l2.1-2.1-.82-.83-2.3 2.31C14.16 3.28 13.12 3 12 3s-2.16.28-3.09.75L6.6 1.44l-.82.83 2.1 2.1C6.14 5.64 5 7.68 5 10v1h14v-1c0-2.32-1.14-4.36-2.88-5.63zM9 9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" fill="currentColor"/>
                            </svg>
                            Wellness Retreat
                        </span>
                        <span class="badge badge-success" style="cursor: pointer;" onclick="document.getElementById('chat-input').value = 'What are my saved preferences?'">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" fill="currentColor"/>
                            </svg>
                            View My Preferences
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar Page -->
    <div id="calendar-page" class="page">
        <div class="container" style="padding: 2rem;">
            <!-- Calendar Header -->
            <div class="calendar-page-header">
                <div class="calendar-header-left">
                    <h1 class="calendar-main-title">üìÖ Calendar</h1>
                    <p class="calendar-subtitle">Manage your trips, bookings, and personal events</p>
                </div>
                <div class="calendar-header-actions">
                    <button class="calendar-action-btn calendar-today-btn" onclick="goToToday()" title="Go to today">
                        <span>Today</span>
                    </button>
                    <button class="calendar-action-btn calendar-add-btn" onclick="openEventModal()" title="Create event">
                        <span>‚ûï</span>
                        <span>Create</span>
                    </button>
                </div>
            </div>
            
            <!-- Calendar View Selector -->
            <div class="calendar-view-selector">
                <button class="view-btn active" data-view="month" onclick="switchCalendarView('dayGridMonth')">
                    <span>Month</span>
                </button>
                <button class="view-btn" data-view="week" onclick="switchCalendarView('timeGridWeek')">
                    <span>Week</span>
                </button>
                <button class="view-btn" data-view="day" onclick="switchCalendarView('timeGridDay')">
                    <span>Day</span>
                </button>
                <button class="view-btn" data-view="list" onclick="switchCalendarView('listWeek')">
                    <span>List</span>
                </button>
            </div>
            
            <!-- Calendar Wrapper -->
            <div id="calendar-wrapper" class="calendar-wrapper">
                <div id="calendar-container" class="calendar-container"></div>
            </div>
            
            <!-- Quick Stats -->
            <div class="calendar-stats">
                <div class="stat-card">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-info">
                        <div class="stat-value" id="total-events-count">0</div>
                        <div class="stat-label">Total Events</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úàÔ∏è</div>
                    <div class="stat-info">
                        <div class="stat-value" id="booking-events-count">0</div>
                        <div class="stat-label">Bookings</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üîî</div>
                    <div class="stat-info">
                        <div class="stat-value" id="upcoming-events-count">0</div>
                        <div class="stat-label">Upcoming</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Event Creation/Edit Modal -->
    <div id="event-modal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3 id="event-modal-title">‚ûï Create New Event</h3>
                <button class="modal-close" onclick="closeEventModal()">√ó</button>
            </div>
            <div class="modal-body">
                <form id="event-form" onsubmit="saveEvent(event)">
                    <div class="form-group">
                        <label>Event Title *</label>
                        <input type="text" id="event-title" class="form-input" required placeholder="e.g., Goa Trip, Team Meeting">
                    </div>
                    
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="event-description" class="form-input" rows="3" placeholder="Add notes or details about this event..."></textarea>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label>Start Date *</label>
                            <input type="date" id="event-start-date" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label>End Date *</label>
                            <input type="date" id="event-end-date" class="form-input" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="event-all-day" checked onchange="toggleEventTime()">
                            All Day Event
                        </label>
                    </div>
                    
                    <div id="event-time-fields" style="display: none; grid-template-columns: 1fr 1fr; gap: 1rem; display: grid;">
                        <div class="form-group">
                            <label>Start Time</label>
                            <input type="time" id="event-start-time" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>End Time</label>
                            <input type="time" id="event-end-time" class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Event Type</label>
                        <select id="event-type" class="form-input" onchange="updateEventColor()">
                            <option value="personal">Personal</option>
                            <option value="trip">Trip</option>
                            <option value="booking">Booking</option>
                            <option value="reminder">Reminder</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Tags (comma-separated)</label>
                        <input type="text" id="event-tags" class="form-input" placeholder="e.g., Trip, Reminder, Personal">
                    </div>
                    
                    <div class="form-group">
                        <label>Color</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="event-color" class="form-input" value="#6366f1" style="width: 60px; height: 40px; padding: 0;">
                            <input type="text" id="event-color-text" class="form-input" value="#6366f1" style="flex: 1;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="event-reminder">
                            Enable Reminder
                        </label>
                    </div>
                    
                    <div id="reminder-options" style="display: none;">
                        <div class="form-group">
                            <label>Reminder Time</label>
                            <select id="event-reminder-time" class="form-input">
                                <option value="15 minutes before">15 minutes before</option>
                                <option value="30 minutes before">30 minutes before</option>
                                <option value="1 hour before">1 hour before</option>
                                <option value="2 hours before">2 hours before</option>
                                <option value="1 day before">1 day before</option>
                                <option value="2 days before">2 days before</option>
                                <option value="1 week before">1 week before</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button type="submit" class="btn btn-primary" style="flex: 1;">üíæ Save Event</button>
                        <button type="button" class="btn btn-secondary" onclick="closeEventModal()" style="flex: 1;">Cancel</button>
                        <button type="button" id="event-delete-btn" class="btn btn-delete" onclick="deleteEvent()" style="display: none;">üóëÔ∏è Delete</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- My Trips Page -->
    <div id="trips-page" class="page">
        <div class="container" style="padding: 3rem 2rem;">
            <h2 class="section-title">My Travel Plans</h2>
            <div class="trips-grid">
                <div class="trip-card">
                    <div class="trip-image">üèñÔ∏è</div>
                    <div class="trip-content">
                        <h3 class="trip-title">Goa Beach Vacation</h3>
                        <div class="trip-meta">üìÖ Dec 15-20, 2024 ‚Ä¢ üí∞ $450 ‚Ä¢ üë• 2 people</div>
                        <p class="feature-desc">
                            5-day relaxing beach getaway with water sports, local cuisine tours, and sunset cruises.
                        </p>
                        <div style="margin-top: 1rem;">
                            <span class="badge badge-primary">Ready to Book</span>
                        </div>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="openBookingModal('goa-beach', 'Goa Beach Vacation', 'Goa, India', '2024-12-15', '2024-12-20', 450)">
                            üí≥ Book Now
                        </button>
                    </div>
                </div>

                <div class="trip-card">
                    <div class="trip-image" style="background: var(--gradient-2);">üóº</div>
                    <div class="trip-content">
                        <h3 class="trip-title">Paris Family Trip</h3>
                        <div class="trip-meta">üìÖ July 10-17, 2025 ‚Ä¢ üí∞ $3,000 ‚Ä¢ üë• 4 people</div>
                        <p class="feature-desc">
                            Week-long cultural exploration with museum visits, cooking classes, and Seine river cruise.
                        </p>
                        <div style="margin-top: 1rem;">
                            <span class="badge badge-primary">Ready to Book</span>
                        </div>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="openBookingModal('paris-family', 'Paris Family Trip', 'Paris, France', '2025-07-10', '2025-07-17', 750)">
                            üí≥ Book Now
                        </button>
                    </div>
                </div>

                <div class="trip-card">
                    <div class="trip-image" style="background: var(--gradient-3);">‚õ∞Ô∏è</div>
                    <div class="trip-content">
                        <h3 class="trip-title">Manali Adventure</h3>
                        <div class="trip-meta">üìÖ March 5-7, 2025 ‚Ä¢ üí∞ $200 ‚Ä¢ üë• Solo</div>
                        <p class="feature-desc">
                            Weekend trekking and camping adventure in the Himalayas with local guides.
                        </p>
                        <div style="margin-top: 1rem;">
                            <span class="badge badge-primary">Ready to Book</span>
                        </div>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="openBookingModal('manali-adventure', 'Manali Adventure', 'Manali, India', '2025-03-05', '2025-03-07', 200)">
                            üí≥ Book Now
                        </button>
                    </div>
                </div>

                <div class="trip-card" style="border: 2px dashed var(--primary); background: rgba(99, 102, 241, 0.05);">
                    <div class="trip-image" style="background: rgba(99, 102, 241, 0.1); color: var(--primary);">‚ûï</div>
                    <div class="trip-content" style="text-align: center;">
                        <h3 class="trip-title" style="color: var(--primary);">Plan New Trip</h3>
                        <p class="feature-desc" style="margin: 1rem 0;">
                            Ready for your next adventure? Let our AI help you plan the perfect trip!
                        </p>
                        <button class="btn btn-primary" onclick="navigateTo('plan')">
                            üöÄ Start Planning
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Page -->
    <div id="booking-page" class="page">
        <div class="container" style="padding: 2rem; padding-bottom: 120px;">
            <div style="margin-bottom: 2rem;">
                <button class="btn btn-secondary" onclick="navigateTo('plan')" style="margin-bottom: 1rem;">
                    ‚Üê Back to Planning
                </button>
                <h2 class="section-title">Complete Your Booking</h2>
                <p class="feature-desc" id="booking-summary">Select your flights and hotel to complete your booking</p>
            </div>

            <!-- Booking Details Summary -->
            <div class="booking-summary-card" id="booking-details-card" style="display: none;">
                <h3 style="margin-bottom: 1rem; color: var(--primary);">üìã Trip Summary</h3>
                <div class="booking-summary-content" id="booking-summary-content"></div>
            </div>

            <!-- Flight Selection Section -->
            <div class="booking-section">
                <h3 class="booking-section-title">‚úàÔ∏è Select Your Flight</h3>
                <div id="flights-container" class="options-container">
                    <div class="loading-container">
                        <div class="loading-spinner-large"></div>
                        <p style="margin-top: 1rem; color: var(--gray);">Loading flight options...</p>
                    </div>
                </div>
            </div>

            <!-- Hotel Selection Section -->
            <div class="booking-section" style="margin-top: 3rem;">
                <h3 class="booking-section-title">üè® Select Your Hotel</h3>
                <div id="hotels-container" class="options-container">
                    <div class="loading-container">
                        <div class="loading-spinner-large"></div>
                        <p style="margin-top: 1rem; color: var(--gray);">Loading hotel options...</p>
                    </div>
                </div>
            </div>

            <!-- Passenger Details -->
            <div class="booking-section" style="margin-top: 3rem;">
                <h3 class="booking-section-title">üë• Passenger Details</h3>
                <div class="passenger-form">
                    <div class="form-group">
                        <label>Number of Passengers</label>
                        <input type="number" id="passenger-count" min="1" max="10" value="1" class="form-input" onchange="updateTotalPrice()">
                    </div>
                    <div class="form-group">
                        <label>Email Address <span style="color: var(--danger);">*</span></label>
                        <input type="email" id="passenger-email" placeholder="your.email@example.com" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Special Requests (Optional)</label>
                        <textarea id="special-requests" placeholder="Any special requests or preferences..." class="form-input" rows="3"></textarea>
                    </div>
                </div>
            </div>

        </div>
        
        <!-- Collapsible Price Summary Footer -->
        <div class="price-summary-footer" id="price-summary-footer">
            <div class="price-summary-toggle" onclick="togglePriceSummary()">
                <div class="toggle-content">
                    <span class="toggle-icon">üí∞</span>
                    <span class="toggle-text">View Price Summary</span>
                    <span class="toggle-total" id="footer-total-price">Total: $0.00</span>
                </div>
                <span class="toggle-arrow" id="price-summary-arrow">‚ñº</span>
            </div>
            <div class="price-summary-content" id="price-summary-content">
                <div class="price-summary-card">
                    <h3 style="margin-bottom: 1rem; color: var(--primary);">üí∞ Price Summary</h3>
                    <div class="price-breakdown">
                        <div class="price-row">
                            <span>Flight (per person)</span>
                            <div class="price-dropdown">
                                <select id="flight-select" class="price-select" onchange="updateFlightPrice()">
                                    <option value="">Select Flight</option>
                                </select>
                                <span id="flight-price" class="price-display">$0.00</span>
                            </div>
                        </div>
                        <div class="price-row">
                            <span>Hotel (per night)</span>
                            <div class="price-dropdown">
                                <select id="hotel-select" class="price-select" onchange="updateHotelPrice()">
                                    <option value="">Select Hotel</option>
                                </select>
                                <span id="hotel-price" class="price-display">$0.00</span>
                            </div>
                        </div>
                        <div class="price-row">
                            <span>Number of Nights</span>
                            <div class="price-dropdown">
                                <select id="nights-select" class="price-select" onchange="updateTotalPrice()">
                                    <option value="1">1 Night</option>
                                    <option value="2">2 Nights</option>
                                    <option value="3">3 Nights</option>
                                    <option value="4">4 Nights</option>
                                    <option value="5">5 Nights</option>
                                    <option value="6">6 Nights</option>
                                    <option value="7">7 Nights</option>
                                    <option value="8">8 Nights</option>
                                    <option value="9">9 Nights</option>
                                    <option value="10">10 Nights</option>
                                </select>
                                <span id="nights-count" class="price-display">0</span>
                            </div>
                        </div>
                        <div class="price-row">
                            <span>Number of Passengers</span>
                            <div class="price-dropdown">
                                <select id="passengers-select" class="price-select" onchange="updateTotalPrice()">
                                    <option value="1">1 Passenger</option>
                                    <option value="2">2 Passengers</option>
                                    <option value="3">3 Passengers</option>
                                    <option value="4">4 Passengers</option>
                                    <option value="5">5 Passengers</option>
                                    <option value="6">6 Passengers</option>
                                    <option value="7">7 Passengers</option>
                                    <option value="8">8 Passengers</option>
                                    <option value="9">9 Passengers</option>
                                    <option value="10">10 Passengers</option>
                                </select>
                                <span id="passengers-count" class="price-display">1</span>
                            </div>
                        </div>
                        <div class="price-row total-row">
                            <span><strong>Total Price</strong></span>
                            <span id="total-price" class="total-price-display"><strong>$0.00</strong></span>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="proceed-booking-btn" onclick="proceedToBooking()" style="width: 100%; margin-top: 1.5rem; padding: 1.2rem;" disabled>
                        üí≥ Proceed to Payment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Preferences Page -->
    <div id="preferences-page" class="page">
        <div class="preferences-container" style="padding: 3rem 2rem;">
            <h2 class="section-title">Travel Preferences</h2>
            
            <div class="preferences-card">
                <h3 style="margin-bottom: 1.5rem; color: var(--dark);">Set Your Travel Style</h3>
                <p class="feature-desc" style="margin-bottom: 2rem;">
                    Tell us your preferences so our AI can create perfectly tailored trips for you. These settings will be remembered for all future planning.
                </p>
                
                <div class="form-group">
                    <label class="form-label">üí∞ Budget Preference</label>
                    <select id="pref-budget" class="form-select">
                        <option value="budget-friendly">Budget-Friendly (Economy)</option>
                        <option value="moderate">Moderate (Comfort)</option>
                        <option value="luxury">Luxury (Premium)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">üè® Accommodation Style</label>
                    <select id="pref-style" class="form-select">
                        <option value="hostel">Hostels & Budget Hotels</option>
                        <option value="3-star">3-Star Hotels</option>
                        <option value="4-star">4-Star Hotels</option>
                        <option value="luxury">Luxury 5-Star Hotels</option>
                        <option value="boutique">Boutique & Unique Stays</option>
                        <option value="resort">Beach/Mountain Resorts</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">üéØ Preferred Activities</label>
                    <input 
                        type="text" 
                        id="pref-activities" 
                        class="form-input"
                        placeholder="E.g., beaches, museums, adventure sports, food tours, nightlife..."
                    />
                </div>
                
                <div class="form-group">
                    <label class="form-label">üçΩÔ∏è Dietary Preferences</label>
                    <input 
                        type="text" 
                        id="pref-diet" 
                        class="form-input"
                        placeholder="E.g., vegetarian, vegan, halal, kosher, no restrictions..."
                    />
                </div>
                
                <div class="form-group">
                    <label class="form-label">‚úàÔ∏è Travel Pace</label>
                    <select id="pref-pace" class="form-select">
                        <option value="relaxed">Relaxed (2-3 activities per day)</option>
                        <option value="moderate">Moderate (3-4 activities per day)</option>
                        <option value="packed">Packed (5+ activities per day)</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="savePreferencesForm()">
                    üíæ Save Preferences
                </button>
            </div>
            
            <div id="saved-preferences">
                <!-- Saved preferences will load here -->
            </div>
            
            <div class="preferences-card" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border: 2px solid var(--primary);">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">üí° Pro Tip</h3>
                <p class="feature-desc">
                    You can also set preferences naturally by chatting with the AI! Just say something like 
                    <i>"I prefer luxury hotels and love adventure activities"</i> and the AI will remember it.
                </p>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìù Complete Your Booking</h2>
                <button class="modal-close" onclick="closeModal('booking-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <!-- Content will be dynamically loaded -->
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
